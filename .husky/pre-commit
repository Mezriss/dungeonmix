./node_modules/.bin/prettier $(git diff --cached --name-only --diff-filter=ACMR | sed 's| |\\ |g') --write --ignore-unknown
git update-index --again

./node_modules/.bin/tsc -b --noEmit

FILES=$(git diff --cached --name-only --diff-filter=ACM | tr '\n' ' ')
if [ -n "$FILES" ]; then
  pnpm vitest related $FILES --run
fi

echo "All checks passed."
